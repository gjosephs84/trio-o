<!DOCTYPE html>
<html>
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <!-- My CSS-->
        <link href="styles2.css" rel="stylesheet">
        <!-- Google Fonts -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Alegreya+Sans:wght@100&display=swap" rel="stylesheet">
        <title>Gregory Josephs: Trio-O</title>
    </head>
    <body>
        <!-- Navigation Bar -->
        <div class="the-nav-bar">   
            <nav class="navbar navbar-expand-lg navbar-light bg-light">
              <div class="container-fluid">
                <a class="navbar-brand" href="https://gjosephs84.github.io">Gregory Josephs</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                  <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                  <ul class="navbar-nav">
                    <li class="nav-item">
                      <a class="nav-link active" aria-current="page" href="https://gjosephs84.github.io">Home</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link" href="https://gjosephs84.github.io/projects.html">Projects</a>
                    </li>
                    <li class="nav-item dropdown">
                      <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Connect</a>
                      <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <li><a class="dropdown-item" href="https://www.linkedin.com/in/gjosephs">LinkedIn</a></li>
                        <li><a class="dropdown-item" href="https://www.twitter.com/gjosephs">Twitter</a></li>
                        <li><a class="dropdown-item" href="mailto:greg.josephs@gmail.com">Email</a></li>
                      </ul>
                    </li>
                  </ul>
                </div>
              </div>
            </nav>
          <!-- End Navigation Bar -->
        </div>  
        <div style="max-width: fit-content;"> 
            <h1>Trio-O, a Digital Take on "Otrio"</h1>
        </div>
        <div style="max-width: fit-content; margin-top: 20px;">
          <a href="#instructions" class="btn btn-primary">How to Play</a>
          <button class="btn btn-primary" onclick="reloadGame()">Reset Game Board</button>
        </div>
        <div id="container" style="margin: auto;">
            
            <iframe id="game-frame" width="955" height="955" src="game.html" style="transform:scale(1.0)"></iframe>
            
        </div>
        <div style="max-width: fit-content;">
          <h1 id="instructions" style="margin-left: 20px;">How to Play:</h1>
          <p>Trio-O can be played with 2-4 players.</p>
          <h3 style="margin-left: 20px;">Two Players:</h3>
          <p>Each player controls the game pieces opposite each other on the board. One player will be red and green. The other blue and purple. Beginning with red, the first player moves any sized game piece onto any available space on the game board.</p>
            
          <p>Play moves in a clockwise direction, with purple going next.</p>
            
          <p>Continue around until one player's same-colored game pieces achieves the following:</p>
            
            <ul>
              <li>3 in a row, horizontal, vertical, or diagonal. Three in a row can either be three of the same color/size, or three of the same color in ascending or descending size.</li>
            
            <li>3 of the same color nested (example: small red inside medium red inside large red)</li>
          </ul>
        
          <h3 style="margin-left: 20px;">Three or More Players:</h3>

            <p>The same rules as above, except each player only controls one color. In the event of three players, omit a fourth color of user's choosing from play.</p>
        </div>
        
        <script> 
            /* 
            The following scales and resizes the iFrame containing the game,
            then adjusts the margin programmatically to keep the gameboard centered
            and near the top of the page
            */ 

            let divHeight = window.innerHeight * .75;
            let divWidth = window.innerWidth * .75;
            let container = document.getElementById("container");
            let gameContainer = document.getElementById("game-frame")
            let widthRatio = divWidth / 955;
            let heightRatio = divHeight / 955;
            console.log(widthRatio);
            console.log(heightRatio);
            let containerHeight = container.getBoundingClientRect().height;
            let containerWidth = container.getBoundingClientRect().width;
            if (window.innerWidth < window.innerHeight) {
                let firstStyle="margin: auto; width:" + containerWidth + "px; height:" + containerWidth +"px; transform:scale(" + widthRatio + ");";
                container.style = firstStyle;
                let newHeight = 200 - container.getBoundingClientRect().y;
                let secondStyle = firstStyle + (" margin-top: " + newHeight + "px;");
                container.style = secondStyle;
            }
            else if (window.innerWidth > window.innerHeight) {
                let firstStyle="margin: auto; width:" + containerHeight +"px; height:" + containerHeight +"px; transform:scale(" + heightRatio + ");";
                container.style = firstStyle;
                let newHeight = 200 - container.getBoundingClientRect().y;
                let secondStyle = firstStyle + (" margin-top: " + newHeight + "px;");
                container.style = secondStyle;
            };

            // A function to relaod the iFrame

            function reloadGame() {
              console.log("triggered reload");
              let gameWindow = document.getElementById("game-frame");
              gameWindow.src="game.html";
            };
           

        </script>
        <!-- Bootstrap Bundle with Popper -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous">
        </script>
    </body>
    <footer style="margin: 20px">
    <p>Copyright 2021 Gregory Josephs - <a href="mailto:greg.josephs@gmail.com">greg.josephs@gmail.com</a></p>
    </footer>
</html>